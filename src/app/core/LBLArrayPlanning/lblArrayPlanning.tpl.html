<div class="content lbl-array-planning panel container-fluid">
  <header>
    <h1>LBL Array Planning</h1>
    <div class="col-md-4 col-lg-3">
      <input-element class-name="field-name" span-text="Field:" input-name="fieldName" input-class="field-name-input"
                     placeholder="enter field name" pattern="">
      </input-element>
      <input-element class-name="well-name" span-text="Well:" input-name="wellName" input-class="well-name-input"
                     placeholder="enter well name" pattern="">
      </input-element>
      <input-element class-name="date" span-text="Date:" input-name="date" input-class="date-input"
                     placeholder="yyyy/mm/dd" pattern="/^[0-9]{4}'\/'[0-9]{2}'\/'[0-9]{2}/">
      </input-element>
      <input-element class-name="utm-Zone" span-text="UTM Zone" input-name="utmZone" input-class="utm-input"
                     placeholder="" pattern=""></input-element>
    </div>
    <div class="col-md-4 col-lg-3">
      <input-element-units class-name="wh-northing" span-text="WH northing" input-name="whNorthing"
                           input-id="wh-northing" input-class="wh-northing-input" init-value=""
                           pattern="/^[0-9]{1-7}/" units="[m]">
      </input-element-units>
      <input-element-units class-name="wh-easting" span-text="WH easting" input-name="whEasting"
                           input-id="wh-easting" input-class="wh-easting-input" init-value=""
                           pattern="/^[0-9]{1-6}/" units="[m]">
      </input-element-units>
    </div>
    <div class="col-md-4 col-lg-3 calculation-input-data">
      <input-element-units class-name="water-depth" span-text="Water depth:" input-name="waterDepth"
                           input-id="water-depth" input-class="water-depth-input" init-value="1000"
                           pattern="/^[0-9]{2-4}/"
                           units="[m]">
      </input-element-units>
      <input-element-units class-name="transponder-height" span-text="Transponder height:"
                           input-name="transponderHeight"
                           input-id="transponder-height" input-class="transponder-height-input" init-value="2"
                           pattern="/^[0-9]{1-2}/" units="[m]">
      </input-element-units>
      <input-element-units class-name="transducer-depth" span-text="Transducer depth:" input-name="transducerDepth"
                           input-id="transducer-depth" input-class="transducer-depth-input" init-value="2"
                           pattern="/^[0-9]{1-2}/" units="[m]">
      </input-element-units>
      <input-element-units class-name="relative-depth" span-text="Relative depth:" input-name="relativeDepth"
                           input-id="relative-depth" input-class="relative-depth-input" init-value=""
                           pattern="/^[0-9]{1-4}/" units="[m]">
      </input-element-units>
    </div>
  </header>
  <table class="table tableArray1">
    <thead>
    <tr>
      <th>Array 1:</th>
    </tr>
    <tr>
      <th class="table-header" ng-repeat="tableHeader in arrayTableHeaders" scope="col">{{tableHeader}}</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="beacon in array1 track by $index" ng-class="{grey:$even, selectedRow:beacon.serialNo===selectedRow}"
        ng-click="showSelectedBeacon(beacon.serialNo)">
      <td class="wpt-index-col">{{beacon.index}}</td>
      <td ng-show="!showForms">{{beacon.serialNo}}</td>
      <td ng-show="showForms">
        <input class="edit-input" ng-model="beacon.serialNo"
               required
               ng-pattern="/^[^<>]*$/"
               ng-class="beacon.serialNo==='' ? 'invalid-input-data' :
               ('valid-input-data')"
        />
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td ng-show="!showForms">{{beacon.floatNo}}</td>
      <td ng-show="showForms">
        <input class="edit-input" ng-model="beacon.floatNo"
               required
               ng-pattern="/^[^<>]*$/"
               ng-class="beacon.floatNo==='' ? 'invalid-input-data' :
               ('valid-input-data')"
        />
      </td>
      <td></td>
      <td class="selected manipulation-col">
        <span ng-show="!showForms" class="glyphicon glyphicon-pencil clickable manipulation-icon"
              ng-click="showForms=true"></span>

        <span ng-show="!$first" ng-click="moveUp($index, array1)"
              class="glyphicon glyphicon-arrow-up manipulation-icon clickable"></span>
        <span ng-show="!$last" ng-click="moveDown($index, array1)"
              class="glyphicon glyphicon-arrow-down manipulation-icon clickable"></span>

        <span ng-show="showForms" showForms="false" class="glyphicon glyphicon-floppy-disk clickable"
              ng-click="saveChanges($index, beacon.serialNo, beacon.floatNo, array1); showForms=false">
          <span class="icon-text"> SAVE</span>
        </span>
        <span ng-show="!showForms" class="glyphicon glyphicon-remove clickable manipulation-icon right"
              ng-click="removeRow($index, array1)"></span>
      </td>
    </tr>
    </tbody>
  </table>
  <span ng-click="addNewBeacon(array1)" class="glyphicon glyphicon-plus clickable add-new-row-icon icon-text right">
    ADD</span>
  <span class="clear"></span>

  <table class="table tableArray2">
    <thead>
    <tr>
      <th>Array 2:</th>
    </tr>
    <tr>
      <th class="table-header" ng-repeat="tableHeader in arrayTableHeaders" scope="col">{{tableHeader}}</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="beacon in array2 track by $index" ng-class="{grey:$even, selectedRow:beacon.index===selectedRow}"
        ng-click="showSelectedBeacon(beacon.index)">
      <td class="wpt-index-col">{{beacon.index}}</td>
      <td ng-show="!showForms">{{beacon.serialNo}}</td>
      <td ng-show="showForms">
        <input class="edit-input" ng-model="beacon.serialNo"
               required
               ng-pattern="/^[^<>]*$/"
               ng-class="beacon.serialNo==='' ? 'invalid-input-data' :
               ('valid-input-data')"
        />
      </td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td ng-show="!showForms">{{beacon.floatNo}}</td>
      <td ng-show="showForms">
        <input class="edit-input" ng-model="beacon.floatNo"
               required
               ng-pattern="/^[^<>]*$/"
               ng-class="beacon.floatNo==='' ? 'invalid-input-data' :
               ('valid-input-data')"
        />
      </td>
      <td></td>
      <td class="selected manipulation-col">
        <span ng-show="!showForms" class="glyphicon glyphicon-pencil clickable manipulation-icon"
              ng-click="showForms=true"></span>

        <span ng-show="!$first" ng-click="moveUp($index, array2)"
              class="glyphicon glyphicon-arrow-up manipulation-icon clickable"></span>
        <span ng-show="!$last" ng-click="moveDown($index, array2)"
              class="glyphicon glyphicon-arrow-down manipulation-icon clickable"></span>

        <span ng-show="showForms" showForms="false" class="glyphicon glyphicon-floppy-disk clickable"
              ng-click="saveChanges($index, beacon.serialNo, beacon.floatNo, array2); showForms=false">
          <span class="icon-text"> SAVE</span>
        </span>
        <span ng-show="!showForms" class="glyphicon glyphicon-remove clickable manipulation-icon right"
              ng-click="removeRow($index, array2)"></span>
      </td>
    </tr>
    </tbody>
  </table>
  <span ng-click="addNewBeacon(array2)" class="glyphicon glyphicon-plus clickable add-new-row-icon icon-text right">
    ADD</span>
  <span class="clear"></span>
  <div class="left col-xs-5">
    <div class="col-xs-12 selector scale-selector">
      <span>Scale: {{scale}} m</span>
      <div id="scale-slider"></div>
    </div>
    <div class="col-xs-12 selector start-angle-selector">
      <span>Start angle: {{startAngle}}&deg</span>
      <div id="start-angle-slider"></div>
    </div>
    <svg class="left col-xs-12 array-view array-horizontal-view"></svg>
  </div>
  <div class="right col-xs-5 vertical-svg-container">
    <div class="col-xs-12 selector selector-right vertical-angle-selector">
      <span>Vertical angle: {{verticalAngle}}&deg</span>
      <div id="vertical-angle-slider"></div>
      <input-element-units class-name="dist-WH-TR" span-text="Distance WH &#10230 TR:" input-name="dist-WH-TR"
                           input-id="dist-WH-TR" input-class="dist-WH-TR-input" init-value=""
                           pattern="/^[0-9]{1-4}/" units="[m]">
      </input-element-units>
    </div>
    <div class="col-xs-12 selector selector-right angle-threshold-selector">
      <span>Angle threshold: {{angleThreshold}}&deg</span>
      <div id="angle-threshold-slider"></div>
      <input-element-units class-name="beacon-radius" span-text="Beacon radius:" input-name="beacon-radius"
                           input-id="beacon-radius" input-class="beacon-radius-input" init-value=""
                           pattern="/^[0-9]{1-2}/" units="[m]">
      </input-element-units>
    </div>
    <svg class="right col-xs-12 array-view array-vertical-view"></svg>
  </div>

  <footer>
    <div class="btn-group col-xs-12 panel-footer">
      <div class="col-xs-12">
        <button ng-click="clearTable(array1)" type="button" class="btn btn-default btn-grey">Clear table</button>

        <button class="btn btn-default btn-grey import-export" role="menuitem">
          <a href="core/LBLArrayPlanning/external/MAT-003-LBL-Config.json">
            Download demo.json
          </a>
        </button>
        <button class="btn btn-default btn-grey import-export" ng-click="exportToJSON()" role="menuitem">Export as
          JSON
        </button>
        <button class="btn btn-default btn-grey import-export" ng-click="importFromJSON()" role="menuitem">Import JSON
        </button>
        <input class="btn btn-default btn-grey import-export" id="select-file" type="file" accept="application/json">
      </div>
      <span class="clear"></span>
    </div>
  </footer>
</div>